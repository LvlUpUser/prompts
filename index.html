<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Prompt Studio - Profesional</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React y Babel -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap');
        
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: #020617;
            overflow-x: hidden;
        }

        .glass {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 10px;
        }
        
        .animate-gradient {
            background-size: 200% 200%;
            animation: gradient-move 5s ease infinite;
        }

        @keyframes gradient-move {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Estilo para los inputs */
        input, textarea, select {
            background: #0f172a !important;
            transition: all 0.2s ease;
        }
        input:focus, textarea:focus, select:focus {
            border-color: #8b5cf6 !important;
            box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2) !important;
        }
    </style>
</head>
<body class="text-slate-100 selection:bg-purple-500/30">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Componentes de Iconos SVG Integrados para evitar fallos de carga
        const Icons = {
            Sparkles: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
            ),
            Image: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
            ),
            Layout: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>
            ),
            Copy: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
            ),
            Check: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 6 9 17l-5-5"/></svg>
            ),
            Smartphone: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>
            ),
            Monitor: () => (
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></svg>
            )
        };

        const App = () => {
            const [subject, setSubject] = useState('');
            const [action, setAction] = useState('');
            const [style, setStyle] = useState('Realistic / Cinematic');
            const [lighting, setLighting] = useState('Studio Softbox');
            const [platform, setPlatform] = useState('Instagram Post');
            const [copied, setCopied] = useState(false);

            const platforms = [
                { id: 'ig-story', name: 'Instagram Story / Reel', size: '9:16', desc: '1080 x 1920 px', type: 'mobile' },
                { id: 'ig-post', name: 'Instagram Post', size: '1:1', desc: '1080 x 1080 px', type: 'square' },
                { id: 'ig-port', name: 'Instagram Portrait / Carrusel', size: '4:5', desc: '1080 x 1350 px', type: 'mobile' },
                { id: 'yt-thumb', name: 'YouTube Thumbnail', size: '16:9', desc: '1280 x 720 px', type: 'desktop' },
                { id: 'fb-cover', name: 'Facebook / LinkedIn Cover', size: '16:9', desc: 'Carátula Optimizada', type: 'desktop' },
                { id: 'twitter', name: 'Twitter (X) Post', size: '1.91:1', desc: '1200 x 628 px', type: 'desktop' }
            ];

            const styles = [
                'Realistic / Cinematic', 'Minimalist / Modern', 'Cyberpunk / Neon', 
                '3D Render (Unreal Engine 5)', 'Digital Art / Concept', 'Anime / Studio Ghibli',
                'Hyper-realistic Photography', 'Oil Painting / Masterpiece', 'Isometric Art'
            ];

            const lightings = [
                'Natural Sunlight', 'Golden Hour', 'Neon Lighting', 'Studio Softbox', 
                'Dramatic Chiaroscuro', 'Volumetric Lighting', 'Cinematic Sunset'
            ];

            const generatedPrompt = useMemo(() => {
                if (!subject) return '';
                const currentPlatform = platforms.find(p => p.name === platform);
                
                // Construcción basada en tus documentos (Arquitectura estructural)
                let text = `[STYLE: ${style}] [SUBJECT: ${subject}]`;
                if (action) text += ` [ACTION: ${action}]`;
                text += ` [LIGHTING: ${lighting}]`;
                text += ` --ar ${currentPlatform.size} --v 6.1 --stylize 250 --quality 2`;
                
                return text;
            }, [subject, action, style, lighting, platform]);

            const copyToClipboard = () => {
                const el = document.createElement('textarea');
                el.value = generatedPrompt;
                document.body.appendChild(el);
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
                
                setCopied(true);
                setTimeout(() => setCopied(false), 2000);
            };

            return (
                <div className="min-h-screen py-6 px-4 md:py-12">
                    <div className="max-w-6xl mx-auto">
                        {/* Header */}
                        <header className="flex flex-col md:flex-row md:items-center justify-between gap-6 mb-12">
                            <div className="flex items-center gap-4">
                                <div className="bg-gradient-to-br from-purple-600 to-blue-600 p-3 rounded-2xl shadow-xl shadow-purple-500/20 animate-gradient">
                                    <Icons.Sparkles />
                                </div>
                                <div>
                                    <h1 className="text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400">
                                        Prompt Studio AI
                                    </h1>
                                    <p className="text-slate-400 text-sm font-medium uppercase tracking-widest">v2.0 Structural Architecture</p>
                                </div>
                            </div>
                            <div className="flex gap-2 text-xs font-semibold text-slate-500 bg-slate-900/50 p-1 rounded-full border border-slate-800">
                                <span className="px-3 py-1 bg-slate-800 text-slate-300 rounded-full">DALL-E 3</span>
                                <span className="px-3 py-1 rounded-full">Midjourney</span>
                                <span className="px-3 py-1 rounded-full">Imagen 3</span>
                            </div>
                        </header>

                        <div className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
                            {/* Panel Izquierdo: Configuración */}
                            <div className="lg:col-span-7 space-y-6">
                                <div className="glass rounded-[2rem] p-6 md:p-8 space-y-8">
                                    
                                    {/* Sección Sujeto */}
                                    <div className="space-y-3">
                                        <div className="flex items-center justify-between">
                                            <label className="flex items-center gap-2 text-sm font-bold text-purple-300">
                                                <Icons.Image /> SUJETO PRINCIPAL
                                            </label>
                                            <span className="text-[10px] text-slate-500">REQUERIDO</span>
                                        </div>
                                        <textarea 
                                            placeholder="Describe lo que quieres ver con detalle..."
                                            className="w-full border border-slate-800 rounded-2xl p-4 text-slate-200 outline-none h-28 focus:border-purple-500/50"
                                            value={subject}
                                            onChange={(e) => setSubject(e.target.value)}
                                        />
                                    </div>

                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        {/* Estilo */}
                                        <div className="space-y-3">
                                            <label className="flex items-center gap-2 text-sm font-bold text-blue-300">
                                                <Icons.Layout /> ESTILO VISUAL
                                            </label>
                                            <select 
                                                className="w-full border border-slate-800 rounded-xl p-3 text-slate-300 outline-none cursor-pointer"
                                                value={style}
                                                onChange={(e) => setStyle(e.target.value)}
                                            >
                                                {styles.map(s => <option key={s} value={s}>{s}</option>)}
                                            </select>
                                        </div>

                                        {/* Iluminación */}
                                        <div className="space-y-3">
                                            <label className="flex items-center gap-2 text-sm font-bold text-orange-300">
                                                <Icons.Sparkles /> ILUMINACIÓN
                                            </label>
                                            <select 
                                                className="w-full border border-slate-800 rounded-xl p-3 text-slate-300 outline-none cursor-pointer"
                                                value={lighting}
                                                onChange={(e) => setLighting(e.target.value)}
                                            >
                                                {lightings.map(l => <option key={l} value={l}>{l}</option>)}
                                            </select>
                                        </div>
                                    </div>

                                    {/* Formato Social - Grid de botones */}
                                    <div className="space-y-4">
                                        <label className="flex items-center gap-2 text-sm font-bold text-emerald-300">
                                            <Icons.Monitor /> FORMATO Y REDES SOCIALES
                                        </label>
                                        <div className="grid grid-cols-2 sm:grid-cols-3 gap-3">
                                            {platforms.map((p) => (
                                                <button
                                                    key={p.id}
                                                    onClick={() => setPlatform(p.name)}
                                                    className={`flex flex-col items-center justify-center p-4 rounded-2xl border transition-all gap-2 ${
                                                        platform === p.name 
                                                        ? 'bg-emerald-500/10 border-emerald-500 text-emerald-400 ring-4 ring-emerald-500/10' 
                                                        : 'bg-slate-900/50 border-slate-800 text-slate-400 hover:border-slate-700'
                                                    }`}
                                                >
                                                    {p.type === 'mobile' ? <Icons.Smartphone /> : <Icons.Monitor />}
                                                    <div className="text-center">
                                                        <div className="text-[11px] font-bold leading-tight">{p.name.split(' / ')[0]}</div>
                                                        <div className="text-[9px] opacity-60 font-mono mt-1">{p.size}</div>
                                                    </div>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Panel Derecho: Resultado */}
                            <div className="lg:col-span-5 sticky top-8">
                                <div className="glass rounded-[2.5rem] p-1 overflow-hidden">
                                    <div className="bg-slate-900/40 rounded-[2.4rem] p-6 md:p-8 flex flex-col min-h-[400px]">
                                        
                                        <div className="flex items-center justify-between mb-8">
                                            <h2 className="text-lg font-bold flex items-center gap-2">
                                                PROMPT FINAL
                                            </h2>
                                            <button 
                                                onClick={copyToClipboard}
                                                disabled={!generatedPrompt}
                                                className={`flex items-center gap-2 px-6 py-3 rounded-full font-bold transition-all transform active:scale-95 ${
                                                    !generatedPrompt ? 'bg-slate-800 text-slate-600 cursor-not-allowed' :
                                                    copied 
                                                    ? 'bg-emerald-500 text-white' 
                                                    : 'bg-white text-slate-900 hover:shadow-xl hover:shadow-white/10'
                                                }`}
                                            >
                                                {copied ? <><Icons.Check /> COPIADO</> : <><Icons.Copy /> COPIAR</>}
                                            </button>
                                        </div>

                                        <div className="flex-1 flex flex-col justify-center">
                                            {!generatedPrompt ? (
                                                <div className="text-center space-y-6 py-12">
                                                    <div className="inline-block p-6 bg-slate-800/50 rounded-full text-slate-600">
                                                        <Icons.Image />
                                                    </div>
                                                    <p className="text-slate-500 italic max-w-xs mx-auto">
                                                        Define un sujeto arriba para generar la arquitectura del prompt.
                                                    </p>
                                                </div>
                                            ) : (
                                                <div className="animate-in fade-in slide-in-from-bottom-4 duration-500">
                                                    <div className="relative group">
                                                        <div className="absolute -inset-1 bg-gradient-to-r from-purple-500 to-blue-500 rounded-3xl blur opacity-10 group-hover:opacity-20 transition duration-1000"></div>
                                                        <div className="relative p-6 bg-black/40 border border-slate-800 rounded-3xl font-mono text-lg leading-relaxed text-purple-100 shadow-inner">
                                                            {generatedPrompt}
                                                        </div>
                                                    </div>

                                                    {/* Vista previa miniatura del formato */}
                                                    <div className="mt-8 flex items-center gap-4 p-4 bg-slate-800/30 rounded-2xl border border-slate-700/50">
                                                        <div className="flex flex-col items-center justify-center bg-slate-950 w-12 h-12 rounded-lg border border-slate-700">
                                                            <div className="border border-purple-500/50 rounded bg-purple-500/10" 
                                                                style={{ 
                                                                    width: platform.includes('Story') ? '14px' : platform.includes('Post') ? '24px' : '32px', 
                                                                    height: platform.includes('Story') ? '26px' : platform.includes('Post') ? '24px' : '18px'
                                                                }}>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <div className="text-xs font-bold text-slate-300">{platform}</div>
                                                            <div className="text-[10px] text-slate-500 font-mono">ASPECT RATIO {platforms.find(p => p.name === platform).size}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            )}
                                        </div>

                                        <div className="mt-8 pt-6 border-t border-slate-800/50">
                                            <p className="text-[10px] text-slate-500 leading-relaxed uppercase tracking-wider text-center">
                                                Optimizado para Midjourney v6.1 & DALL-E 3 Structural Parsing
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
